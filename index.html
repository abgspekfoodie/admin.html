<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Snapbite™ Admin – Menu Availability</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <style>
    body { font-family: 'Arial', sans-serif; background: #0e0e0e; color: #fff; padding: 2rem; }
    h1 { color: #ff9500; text-align: center; }
    .section { margin-top: 2rem; }
    .section h2 { color: #ff9500; border-bottom: 1px solid #444; padding-bottom: 0.5rem; }
    .item { display: flex; justify-content: space-between; padding: 0.5rem; border-bottom: 1px solid #333; }
    .item span { flex: 1; }
    .toggle-btn { padding: 5px 10px; background: #444; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
    .toggle-btn.active { background: #00c853; }
  </style>
</head>
<body>
  <h1>Snapbite™ Admin</h1>
  <div class="section">
    <h2>Main Menu Items</h2>
    <div id="menuList"></div>
  </div>
  <div class="section">
    <h2>Side Items / Add-ons</h2>
    <div id="sideList"></div>
  </div><script>
  const firebaseConfig = {
    apiKey: "AIzaSyB_gnrfNMlJaNu6zSZqX7eiXzbZrnmtA2M",
    authDomain: "snapbite-admin.firebaseapp.com",
    databaseURL: "https://snapbite-admin-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "snapbite-admin",
    storageBucket: "snapbite-admin.appspot.com",
    messagingSenderId: "146625734660",
    appId: "1:146625734660:web:23ada593e4818ed7332d51"
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  function renderList(refPath, containerId, type) {
    db.ref(refPath).on('value', snapshot => {
      const list = snapshot.val();
      const container = document.getElementById(containerId);
      container.innerHTML = '';
      list.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'item';
        div.innerHTML = `
          <span>${item.name} – RM${item.price.toFixed(2)}</span>
          <button class="toggle-btn ${item.available ? 'active' : ''}" onclick="toggleAvailability('${refPath}', ${index}, ${!item.available})">
            ${item.available ? 'Available' : 'Unavailable'}
          </button>
        `;
        container.appendChild(div);
      });
    });
  }

  function toggleAvailability(path, index, newStatus) {
    db.ref(`${path}/${index}/available`).set(newStatus);
  }

  renderList('menus', 'menuList', 'menu');
  renderList('sides', 'sideList', 'side');
</script></body>
</html>
